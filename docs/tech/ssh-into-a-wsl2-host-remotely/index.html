<!doctype html><html lang=en-US><head><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><link href=https://fonts.googleapis.com rel=preconnect><link href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css rel=stylesheet><link integrity="sha512-SJw7jzjMYJhsEnN/BuxTWXkezA2cRanuB8TdCNMXFJjxG9ZGSKOX5P3j03H6kdMxalKHZ7vlBMB4CagFP/de0A==" crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.1.1/css/hover-min.css referrerpolicy=no-referrer rel=stylesheet><link integrity="sha512-RliK2gk03WxUELn57ddjWLhEfhUiOZ85VvWLImFy8A7FOPMkF4Z9YGQ3VKX5jpwkEerAL6I0nC+JNeCPrxWBTw==" crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/csshake/1.5.3/csshake.min.css referrerpolicy=no-referrer rel=stylesheet><script integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js></script><link href=https://obsidian-zola.trwbox.com/main.css rel=stylesheet><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>SSH Into A WSL2 Host Remotely | Trent's Second ðŸ§ </title><meta name=description><link href=https://obsidian-zola.trwbox.com/docs/tech/ssh-into-a-wsl2-host-remotely/ rel=canonical><script type=application/ld+json>
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position":  1 ,
        "name": "Home",
        "item": "https://obsidian-zola.trwbox.com/"
      }
    ]
  }
</script><meta content=#fff name=theme-color><link href=https://obsidian-zola.trwbox.com/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://obsidian-zola.trwbox.com/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://obsidian-zola.trwbox.com/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link crossorigin=anonymous href=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css integrity=sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB rel=stylesheet><script crossorigin=anonymous defer integrity=sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js></script><script crossorigin=anonymous defer integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded", function() {
		renderMathInElement(document.body, {
		delimiters: [
			{left: '$$', right: '$$', display: true},
			{left: '$', right: '$', display: false},
		],
		throwOnError : false
		});
	});</script><body class="docs single"><script>if (localStorage.getItem("theme") === "dark" || (!localStorage.getItem("theme") && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
      document.body.classList.add("dark");
    }</script><script>alert("Hello World!");</script><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" id=menu-btn type=checkbox><label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://obsidian-zola.trwbox.com/>Trent's 2<sup>nd</sup> <span class=hvr-pulse>ðŸ§ </span>, curtosey of Peter</a><button aria-label="Toggle mode" class="btn btn-link order-2 order-md-4" id=mode type=button><span class=toggle-dark><svg class="feather feather-moon" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span> <span class=toggle-light><svg class="feather feather-sun" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=5></circle><line x1=12 x2=12 y1=1 y2=3></line><line x1=12 x2=12 y1=21 y2=23></line><line x1=4.22 x2=5.64 y1=4.22 y2=5.64></line><line x1=18.36 x2=19.78 y1=18.36 y2=19.78></line><line x1=1 x2=3 y1=12 y2=12></line><line x1=21 x2=23 y1=12 y2=12></line><line x1=4.22 x2=5.64 y1=19.78 y2=18.36></line><line x1=18.36 x2=19.78 y1=5.64 y2=4.22></line></svg></span></button><ul class="navbar-nav fork-me order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/trwbox/obsidian-test-vault><svg class="feather feather-github" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input aria-label="Search docs..." class="form-control is-search" placeholder="Search docs..." autocomplete=off id=userinput type=search><div class="shadow bg-white rounded" id=suggestions></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav aria-label="Main navigation" class=docs-links><h3 class=collapsible-section>root</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/home/>Home</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/readme/>README</a></ul></div><h3 class=collapsible-section>3D Printing</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/3d-printing/cool-filaments/>Cool Filaments</a></ul></div><h4 class=collapsible-section>ðŸ‘‰3D Models</h4><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/3d-printing/3d-models/gear-and-belt-generators/>Gear And Belt Generators</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/3d-printing/3d-models/motors/>Motors</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/3d-printing/3d-models/prusa-mini-customization/>Prusa Mini Customization</a></ul></div><h4 class=collapsible-section>ðŸ‘‰Firmware</h4><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/3d-printing/firmware/klipper-on-mpmd-v1/>Klipper On MPMD V1</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/3d-printing/firmware/octoprint/>Octoprint</a></ul></div><h3 class=collapsible-section>Embedded Systems</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/allwinner-d1s/>Allwinner D1s</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/antenna-on-pcb/>Antenna On PCB</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/chips/>Chips</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/embedded-linux/>Embedded Linux</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/esp32/>ESP32</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/esp32-hardware-timer-interrupt/>ESP32 Hardware Timer Interrupt</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/esp32-c3/>ESP32-C3</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/fpga-stuff/>FPGA Stuff</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/general-pcb-design/>General PCB Design</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/high-speed-pcb-design/>High-Speed PCB Design</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/pcb-manufacturing/>PCB Manufacturing</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/embedded-systems/sipeed-m1w/>Sipeed M1W</a></ul></div><h3 class=collapsible-section>Lists</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/lists/cool-skills-that-i-do-not-possess/>Cool Skills That I Do Not Possess</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/lists/fancy-recipes/>Fancy Recipes</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/lists/machines-wishlist/>Machines Wishlist</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/lists/practical-skills-in-dealing-with-people/>Practical Skills In Dealing With People</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/lists/quotes/>Quotes</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/lists/singapore-restaurants/>Singapore Restaurants</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/lists/stuff-to-read/>Stuff To Read</a></ul></div><h3 class=collapsible-section>Miscellaneous</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/miscellaneous/electromagnetism/>Electromagnetism</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/miscellaneous/linux-tricks/>Linux Tricks</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/miscellaneous/microsoft-office-tricks/>Microsoft Office Tricks</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/miscellaneous/renovation-nonos/>Renovation Nonos</a></ul></div><h3 class=collapsible-section>Operating System</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/operating-system/file-system/>File System</a></ul></div><h3 class=collapsible-section>Tinkering</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tinkering/project-inspirations/>Project Inspirations</a></ul></div><h3 class=collapsible-section>Useful (Online) Tools and Resources</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/useful-online-tools-and-resources/hacks-and-workarounds-outsmarting-rogue-companies/>Hacks And Workarounds (Outsmarting Rogue Companies)</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/useful-online-tools-and-resources/misc/>Misc</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/useful-online-tools-and-resources/powerpoint/>Powerpoint</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/useful-online-tools-and-resources/reseach/>Reseach</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/useful-online-tools-and-resources/software-development/>Software Development</a></ul></div><h3 class=collapsible-section>deep learning</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/adam/>Adam</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/custom-cuda-or-autograd-functions-in-pytorch/>Custom CUDA Or Autograd Functions In PytorchðŸ˜ƒðŸ˜ƒ</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/equalized-learning-rate/>Equalized Learning Rate</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/eureka-concepts/>Eureka Concepts</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/gan-quality-metrics/>GAN Quality Metrics</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/improved-precision-and-recall-metric-for-assessing-generative-models/>Improved Precision And Recall Metric For Assessing Generative Models</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/normalization-techniques/>Normalization Techniques</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/overly-complicated-diagram-of-mlops/>Overly Complicated Diagram Of MLOps</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/papers-to-read/>Papers To Read</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/pixel2style2pixel/>Pixel2Style2Pixel</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/progan/>ProGAN</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/resnet/>ResNet</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/stylegan/>StyleGAN</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/tools/>Tools</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/deep-learning/weight-initialization/>Weight Initialization</a></ul></div><h3 class=collapsible-section>maths</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/maths/conceptual-questions/>Conceptual Questions</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/maths/linear-algebra/>Linear Algebra</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/maths/multiobjective-optimization/>Multiobjective Optimization</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/maths/statistics/>Statistics</a></ul></div><h3 class=collapsible-section>misc</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/misc/electromagnetism/>Electromagnetism</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/misc/minidelta-tuning/>MiniDelta Tuning</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/misc/renovation-nonos/>Renovation Nonos</a></ul></div><h3 class=collapsible-section>obsidian-zola tests</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/obsidian-zola-tests/line-breaks/>Line Breaks</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/obsidian-zola-tests/repeat-name-nested/>Repeat Name</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/obsidian-zola-tests/weird-filename/>Weird_@Filename_% $^}{+=-_~`&()!'</a></ul></div><h4 class=collapsible-section>ðŸ‘‰repeat name</h4><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/obsidian-zola-tests/repeat-name/nested/>Nested</a></ul></div><h3 class=collapsible-section>programming</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/bresenham-s-line-algorithm/>Bresenham's Line Algorithm</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/cpp-deep-dive/>Cpp Deep Dive</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/docker-stuff/>Docker Stuff</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/git-deep-dive/>Git Deep Dive</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/git-stuff/>Git Stuff</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/nice-fonts/>Nice Fonts</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/regex-cheatsheet/>RegEx Cheatsheet</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/rust-tips/>Rust Tips</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/vscode-devcontainers/>VSCode DevContainers</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/windows-wsl-programmer-s-setup/>Windows + WSL Programmer's Setup</a></ul></div><h4 class=collapsible-section>ðŸ‘‰Python</h4><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/python/advanced-numpy/>Advanced Numpy</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/python/python/>Python</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/python/python-advanced-typings/>Python Advanced Typings</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/python/python-imports/>Python Imports</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/python/python-regex/>Python RegEx</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/python/python-strings/>Python Strings</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/programming/python/pytorch-notes/>Pytorch Notes</a></ul></div><h3 class=collapsible-section>tech</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tech/google-chrome-and-google-search-hacks/>Google Chrome And Google Search Hacks</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tech/make-conda-great-less-suckish-again/>Make Conda Great (Less Suckish) Again</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tech/microsoft-windows-productivity-hacks-and-tricks/>Microsoft Windows Productivity Hacks And Tricks</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tech/personal-notes-on-consumer-electronics/>Personal Notes On Consumer Electronics</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tech/running-custom-command-using-windows-shortcuts/>Running Custom Command Using Windows Shortcuts</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tech/saving-pulsesecure-password-in-microsoft-windows/>Saving PulseSecure Password In Microsoft Windows</a><li><a class="docs-link active" href=https://obsidian-zola.trwbox.com/docs/tech/ssh-into-a-wsl2-host-remotely/>SSH Into A WSL2 Host Remotely</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tech/ubuntu-ssh-machine-learning-server-setup/>Ubuntu SSH Machine Learning Server Setup</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tech/vscode-resources/>VSCode Resources</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/tech/wsl2-nvidia-docker-error/>WSL2 NVIDIA Docker Error</a></ul></div><h3 class=collapsible-section>university</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/university/analog-electronics/>Analog Electronics</a><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/university/fyp-plan-trying-to-break-things/>FYP Plan (Trying To Break Things)````</a></ul></div><h3 class=collapsible-section>website development</h3><div class=collapsible-wrapper><ul class=list-unstyled><li><a class=docs-link href=https://obsidian-zola.trwbox.com/docs/website-development/seo/>SEO</a></ul></div></nav></div><nav aria-label="Secondary navigation" class="docs-toc d-none d-xl-block col-xl-3"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=https://obsidian-zola.trwbox.com/docs/tech/ssh-into-a-wsl2-host-remotely/#preface>Preface</a><li><a href=https://obsidian-zola.trwbox.com/docs/tech/ssh-into-a-wsl2-host-remotely/#setup>Setup</a></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>SSH Into A WSL2 Host Remotely</h1><h2 id=preface>Preface</h2><p>WSL2 is great and ever improving (if it solves the issues related to Serial Port Forwarding, CUDA without Docker and GUI). Sometimes we might want to SSH into our WSL2 machine remotely (for some peculiar reasons), e.g.:<blockquote><p>I want to quickly <code>rsync</code> files from remote host into my local machine (and I don't care about security), so I want to use SSH with a fast cipher. Sadly, I don't have admin rights on the remote host, may be I can instead run <code>rsync</code> from the remote host into my WSL2 instance!</blockquote><p><em>Disclaimer: most contents are reference from <a href=https://medium.com/@gilad215/ssh-into-a-wsl2-host-remotely-and-reliabley-578a12c91a2>here</a></em><h2 id=setup>Setup</h2><p>Install OpenSSH server:<pre class=language-bash data-lang=bash style=background-color:#2b303b;color:#c0c5ce;><code class=language-bash data-lang=bash><span style=color:#65737e;># Inside your WSL2 distro
</span><span style=color:#bf616a;>sudo</span><span> apt install openssh-server
</span></code></pre><p>Listen to port (not 22 since it is used by Windows):<pre class=language-txt data-lang=txt style=background-color:#2b303b;color:#c0c5ce;><code class=language-txt data-lang=txt><span># /etc/ssh/sshd_config
</span><span>Port 2222  
</span><span>ListenAddress 0.0.0.0  
</span><span>PasswordAuthentication yes
</span></code></pre><p>Remove password requirement to start <code>ssh</code> service (for automation script), and start <code>ssh</code>:<pre class=language-bash data-lang=bash style=background-color:#2b303b;color:#c0c5ce;><code class=language-bash data-lang=bash><span style=color:#bf616a;>sudo</span><span> ALL=NOPASSWD: /usr/sbin/service ssh *
</span><span style=color:#bf616a;>service</span><span> ssh start
</span></code></pre><p>Forward ports using the automation script (Edit <code>$Ports</code> as needed, save as <code>wsl_ssh.ps1</code> and run it):<pre class=language-powershell data-lang=powershell style=background-color:#2b303b;color:#c0c5ce;><code class=language-powershell data-lang=powershell><span style=color:#65737e;># Start SSH Service.
</span><span>wsl sudo service ssh start
</span><span>
</span><span style=color:#65737e;># WSL2 network port forwarding script v1
</span><span style=color:#65737e;>#   for enable script, 'Set-ExecutionPolicy -ExecutionPolicy Bypass -Scope CurrentUser' in Powershell,
</span><span style=color:#65737e;>#   for delete exist rules and ports use 'delete' as parameter, for show ports use 'list' as parameter.
</span><span style=color:#65737e;>#   written by Daehyuk Ahn, Aug-1-2020
</span><span>
</span><span style=color:#65737e;># Display all portproxy information
</span><span style=color:#b48ead;>If </span><span>($Args[</span><span style=color:#d08770;>0</span><span>] -eq "</span><span style=color:#a3be8c;>list</span><span>") {
</span><span>    netsh interface portproxy show v4tov4;
</span><span>    </span><span style=color:#b48ead;>exit</span><span>;
</span><span>} 
</span><span>
</span><span style=color:#65737e;># If elevation needed, start new process
</span><span style=color:#b48ead;>If </span><span>(-NOT ([</span><span style=color:#b48ead;>Security.Principal.WindowsPrincipal</span><span>] [</span><span style=color:#b48ead;>Security.Principal.WindowsIdentity</span><span>]::GetCurrent()).IsInRole([</span><span style=color:#b48ead;>Security.Principal.WindowsBuiltInRole</span><span>]::Administrator))
</span><span>{
</span><span>  </span><span style=color:#65737e;># Relaunch as an elevated process:
</span><span>  </span><span style=color:#96b5b4;>Start-Process powershell.exe </span><span>"</span><span style=color:#a3be8c;>-File</span><span>",('</span><span style=color:#a3be8c;>"{0}"</span><span>' -f $MyInvocation</span><span style=color:#bf616a;>.MyCommand.Path</span><span>),"$</span><span style=color:#a3be8c;>Args runas</span><span>" -Verb RunAs
</span><span>  </span><span style=color:#b48ead;>exit
</span><span>}
</span><span>
</span><span style=color:#65737e;># You should modify '$Ports' for your applications 
</span><span>$</span><span style=color:#bf616a;>Ports </span><span>= (</span><span style=color:#d08770;>2222</span><span>,</span><span style=color:#d08770;>80</span><span>,</span><span style=color:#d08770;>443</span><span>,</span><span style=color:#d08770;>8080</span><span>)
</span><span>
</span><span style=color:#65737e;># Check WSL ip address
</span><span>wsl hostname -I | </span><span style=color:#96b5b4;>Set-Variable </span><span>-Name "</span><span style=color:#a3be8c;>WSL</span><span>"
</span><span>$</span><span style=color:#bf616a;>found </span><span>= $</span><span style=color:#bf616a;>WSL </span><span>-match '</span><span style=color:#a3be8c;>\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}</span><span>';
</span><span style=color:#b48ead;>if </span><span>(-not $</span><span style=color:#bf616a;>found</span><span>) {
</span><span>  echo "</span><span style=color:#a3be8c;>WSL2 cannot be found. Terminate script.</span><span>";
</span><span>  </span><span style=color:#b48ead;>exit</span><span>;
</span><span>}
</span><span>
</span><span style=color:#65737e;># Remove and Create NetFireWallRule
</span><span style=color:#96b5b4;>Remove-NetFireWallRule </span><span>-DisplayName '</span><span style=color:#a3be8c;>WSL 2 Firewall Unlock</span><span>';
</span><span style=color:#b48ead;>if </span><span>($Args[</span><span style=color:#d08770;>0</span><span>] -ne "</span><span style=color:#a3be8c;>delete</span><span>") {
</span><span>  </span><span style=color:#96b5b4;>New-NetFireWallRule </span><span>-DisplayName '</span><span style=color:#a3be8c;>WSL 2 Firewall Unlock</span><span>' -Direction Outbound -LocalPort $</span><span style=color:#bf616a;>Ports </span><span>-Action Allow -Protocol TCP;
</span><span>  </span><span style=color:#96b5b4;>New-NetFireWallRule </span><span>-DisplayName '</span><span style=color:#a3be8c;>WSL 2 Firewall Unlock</span><span>' -Direction Inbound -LocalPort $</span><span style=color:#bf616a;>Ports </span><span>-Action Allow -Protocol TCP;
</span><span>}
</span><span>
</span><span style=color:#65737e;># Add each port into portproxy
</span><span>$</span><span style=color:#bf616a;>Addr </span><span>= "</span><span style=color:#a3be8c;>0.0.0.0</span><span>"
</span><span style=color:#b48ead;>Foreach </span><span>($</span><span style=color:#bf616a;>Port </span><span style=color:#b48ead;>in </span><span>$</span><span style=color:#bf616a;>Ports</span><span>) {
</span><span>    iex "</span><span style=color:#a3be8c;>netsh interface portproxy delete v4tov4 listenaddress=</span><span>$</span><span style=color:#bf616a;>Addr</span><span style=color:#a3be8c;> listenport=</span><span>$</span><span style=color:#bf616a;>Port</span><span style=color:#a3be8c;> | Out-Null</span><span>";
</span><span>    </span><span style=color:#b48ead;>if </span><span>($Args[</span><span style=color:#d08770;>0</span><span>] -ne "</span><span style=color:#a3be8c;>delete</span><span>") {
</span><span>        iex "</span><span style=color:#a3be8c;>netsh interface portproxy add v4tov4 listenaddress=</span><span>$</span><span style=color:#bf616a;>Addr</span><span style=color:#a3be8c;> listenport=</span><span>$</span><span style=color:#bf616a;>Port</span><span style=color:#a3be8c;> connectaddress=</span><span>$</span><span style=color:#bf616a;>WSL</span><span style=color:#a3be8c;> connectport=</span><span>$</span><span style=color:#bf616a;>Port</span><span style=color:#a3be8c;> | Out-Null</span><span>";
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#65737e;># Display all portproxy information
</span><span>netsh interface portproxy show v4tov4;
</span><span>
</span><span style=color:#65737e;># Give user to chance to see above list when relaunched start
</span><span style=color:#b48ead;>If </span><span>($Args[</span><span style=color:#d08770;>0</span><span>] -eq "</span><span style=color:#a3be8c;>runas</span><span>" -Or $Args[</span><span style=color:#d08770;>1</span><span>] -eq "</span><span style=color:#a3be8c;>runas</span><span>") {
</span><span>  </span><span style=color:#96b5b4;>Write-Host </span><span>-NoNewLine '</span><span style=color:#a3be8c;>Press any key to close! </span><span>';
</span><span>  $</span><span style=color:#d08770;>null </span><span>= $Host</span><span style=color:#bf616a;>.UI.RawUI.ReadKey</span><span>('</span><span style=color:#a3be8c;>NoEcho,IncludeKeyDown</span><span>');
</span><span>}
</span></code></pre><p><strong>Important:</strong> This automation script does not work when Docker WSL backend is running. Turn off Docker's <code>Use WSL Backend</code>, disable it for all WSL distros and delete the Docker WSL folders (enter <code>Linux</code> in File Explorer address bar) before running the script. You can turn Docker back on afterwards.<p>Remember to use <code>-p 2222</code> when SSH-ing into your WSL2 :)<div class=docs-graph id=graph></div></main></div></div></div><script integrity="sha512-XHDcSyqhOoO2ocB7sKOCJEkUjw/pQCJViP1ynpy+EGh/LggzrP6U/V3a++LQTnZT7sCQKeHRyWHfhN2afjXjCg==" crossorigin=anonymous referrerpolicy=no-referrer src=https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js></script><script defer src=https://obsidian-zola.trwbox.com/js/graph_info.js></script><script defer src=https://obsidian-zola.trwbox.com/js/graph.js></script><script defer src=https://obsidian-zola.trwbox.com/js/settings.js></script><script defer src=https://obsidian-zola.trwbox.com/js/main.js></script><script defer src=https://obsidian-zola.trwbox.com/plugins/elasticlunr.min.js></script><script defer src=https://obsidian-zola.trwbox.com/search_index.en.js></script><script defer src=https://obsidian-zola.trwbox.com/js/search.js></script>